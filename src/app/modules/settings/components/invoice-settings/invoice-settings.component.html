<div class="card-header pl-0 pr-0 mb-3 border-bottom">
    <h4 class="sub-title mt-2"><span>{{'settings.invoice_settings.title' | translate}}</span></h4>
</div>
<form (ngSubmit)="onSubmit()" *ngIf="isFormLoaded" [formGroup]="invoiceSettingsForm">
    <div class="form-body">
        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <label for="invoice_prefix">{{'settings.invoice_settings.create.fields.invoice_prefix' | translate}}
                        <span class="text-danger">&nbsp;*</span></label>
                    <input [ngClass]="{ 'is-invalid': isFormSubmitted && invoiceSetting.invoice_prefix.errors }" class="form-control" formControlName="invoice_prefix" id="invoice_prefix" placeholder="{{'settings.invoice_settings.create.placeholders.placeholder1' | translate}}" type="text"/>
                    <div *ngIf="isFormSubmitted && invoiceSetting.invoice_prefix.errors" class="invalid-feedback">
                        <div *ngIf="invoiceSetting.invoice_prefix.errors.required">{{'settings.invoice_settings.create.error_messages.message1' | translate}}</div>
                        <div *ngIf="invoiceSetting.invoice_prefix.errors.maxlength">{{'settings.invoice_settings.create.error_messages.message2' | translate }}</div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="due_after">{{'settings.invoice_settings.create.fields.due_after' | translate}}
                        <span class="text-danger">&nbsp;*</span></label>
                    <input [ngClass]="{ 'is-invalid': isFormSubmitted && invoiceSetting.due_after.errors }" class="form-control" formControlName="due_after" id="due_after" placeholder="{{'settings.invoice_settings.create.placeholders.placeholder2' | translate}}" type="number"/>
                    <div *ngIf="isFormSubmitted && invoiceSetting.due_after.errors" class="invalid-feedback">
                        <div *ngIf="invoiceSetting.due_after.errors.required">{{'settings.invoice_settings.create.error_messages.message3' | translate}}</div>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-2">
                <div class="form-group">
                    <label for="auto_remind">{{'settings.invoice_settings.create.fields.auto_remind' | translate}}</label>
                    <label class="checkbox-container d-block">
                        <input class="form-control" formControlName="auto_remind" id="auto_remind" type="checkbox"/>
                        <span class="checkbox-checkmark"></span>
                    </label>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="auto_remind_after">{{'settings.invoice_settings.create.fields.auto_remind_after' | translate}}</label>
                    <input class="form-control" formControlName="auto_remind_after" id="auto_remind_after" placeholder="{{'settings.invoice_settings.create.placeholders.placeholder5' | translate}}" type="text"/>
                </div>
            </div>
            <div class="col-md-4 mb-2">
                <div class="form-group">
                    <label for="show_gst_number">{{'settings.invoice_settings.create.fields.show_gst_number' | translate}}</label>
                    <label class="checkbox-container d-block">
                        <input class="form-control" formControlName="show_gst_number" id="show_gst_number" type="checkbox"/>
                        <span class="checkbox-checkmark"></span>
                    </label>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="gst_number">{{'settings.invoice_settings.create.fields.gst_number' | translate}}</label>
                    <input class="form-control" formControlName="gst_number" id="gst_number" placeholder="{{'settings.invoice_settings.create.placeholders.placeholder6' | translate}}" type="text"/>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="client_note">{{'settings.invoice_settings.create.fields.client_note' | translate}}</label>
                    <textarea class="form-control" formControlName="client_note" id="client_note" placeholder="{{'settings.invoice_settings.create.placeholders.placeholder3' | translate}}" rows="3"></textarea>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="terms_conditions">{{'settings.invoice_settings.create.fields.terms_conditions' | translate}}</label>
                    <textarea class="form-control" formControlName="terms_conditions" id="terms_conditions" placeholder="{{'settings.invoice_settings.create.placeholders.placeholder4' | translate}}" rows="3"></textarea>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>{{'settings.invoice_settings.create.fields.invoice_logo' | translate }}</label>
                    <input formControlName="invoice_logo" type="hidden">
                    <div #logodropzone class="dropzone dz-clickable d-flex justify-content-center">
                        <div *ngIf="isLogoLoaded && setting.invoice_logo" class="dz-preview dz-image-preview">
                            <div class="dz-image">
                                <img height="100" src="{{apiUrl}}/uploads/invoice_logo/{{setting.invoice_logo}}" width="100"/>
                            </div>
                            <a (click)="removeDropzoneImage()" class="btn btn-sm btn-block">{{ 'common.remove_file' | translate }}</a>
                        </div>
                        <div class="dz-default dz-message">
                            <span *ngIf="!setting.invoice_logo"><strong>{{ 'settings.invoice_settings.create.error_messages.message4' | translate }}</strong></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 text-right">
                <a [routerLink]="['/']" class="btn btn-cancel">{{'common.cancel' | translate}}</a>
                <button *ngxPermissionsOnly="['admin', 'super_admin', 'invoicesettings_edit']" class="btn btn-submit" type="submit">{{'common.save' | translate}}</button>
            </div>
        </div>
    </div>
</form>
